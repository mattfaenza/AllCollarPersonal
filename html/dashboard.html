<!DOCTYPE html>
<html>
	<head>
		<!--our own css-->
		<link rel="stylesheet" type="text/css" href="./stylesheets/stylesheet.css">
		
		<!--bootstrap cdn-->
		<!-- Latest compiled and minified CSS -->
		<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css">
		<!-- Optional theme -->
		<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap-theme.min.css">
	</head>

	<body>
		<!--html code goes here -->
		<div id="cont" class="container">
		
			<div id="titleBox" class="jumbotron">
				<h1 id="title">Dashboard for AllCollar</h1>
			</div>
			
			
		<div id="navbar">
			<ul id="nav-link" class="nav nav-pills">
			  <li class="active"><a href="#">Dashboard</a></li>
			  <li><a href="/profile">Profile Settings</a></li>
		   	  <li><a href="/search">Search for a Job</a></li>
			  <li><a href="#">Admin Access</a></li>
			  <li><a href="/login">Logout</a></li>			  
			</ul><br>
		</div>

		<div id="outContainer">
			<div id="profileInfo" class="container-fluid well span6">
				<div class="row-fluid">
						<ul class="nav">
							<li>
								First, last name: 
								<p id="name" class="info"></p>
							</li>
							<li>
								Email:
								<p id="email" class="info"></p>
							</li>
							<li>
								Locale:
								<p id="locale" class="info"></p>
							</li>
							<li>
								Rating:
								<p id="rating" class="info"></p>
							</li>
							<li>
								Recent job:
								<p id="recentJob" class="info"></p>
							</li>
						</ul>
					</div>
			</div>

			<div id="inContainer" class="container-fluid">
				<table id="newJobs" class="table table-striped">
					<div>
						<tr>
							<th>#</th>
							<th>New Jobs</th>
							<th>Wage</th>
						</tr>
					</div>
				</table>
		
				

				<table id="applicationStatus" class="table table-striped">
					<tr>
						<th>#</th>
						<th>Jobs Applied</th>
						<th>Statuses</th>
					</tr>
				</table>
			</div>

		</div>


			 
		</div>
		
		<!--jquery cdn-->
		<!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
		<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
		<!-- Latest compiled and minified JavaScript -->
		<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/js/bootstrap.min.js"></script>

		<script>
			$(document).ready(function(){
				$.get('http://localhost:5000/dashboard/jobs', function(data) {
					console.log(data);

					var table = $('#newJobs');
					for (var i = 0; i < data.length; i++) {

						var newEntry = $('<tr><th></th><th></th><th></th></tr>'),
							headers = newEntry.children(),
							th_one = headers.eq(0),
							th_two = headers.eq(1),
							th_three = headers.eq(2);

						th_one.text(i);
						th_two.text(data[i].title);
						th_three.text(data[i].wage);
						table.append(newEntry);
					}
				});

			});
				


		</script>
	</body>
</html>
